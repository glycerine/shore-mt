<!-- Warning: Do not edit this file. -->
<!-- It was created automatically by yam2html.pl 1.3  -->
<!-- on Mon Oct 27 09:41:04 CST 1997 from file mansvas/text.svas -->
<!DOCTYPE HTML public "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<TITLE>
text(svas) -- Shore Reference Manual
</TITLE>
<LINK REV="made" HREF="mailto:solomon@cs.wisc.edu">
</HEAD>

<BODY>

<!-- .so tmac.man.local -->
<H1><A NAME="HRR.0">
text - making Shore objects visible to Unix
</A></H1><HR>
<H1>
CONTENTS
</H1>
<UL>
<LI>
<A HREF="#HRR.1">SYNOPSIS</A>
</LI>
<LI>
<A HREF="#HRR.2">DESCRIPTION</A>
</LI>
<LI>
<A HREF="#HRR.3">IMPLEMENTATION</A>
</LI>
<LI>
<A HREF="#HRR.4">VERSION</A>
</LI>
<LI>
<A HREF="#HRR.5">SPONSORSHIP</A>
</LI>
<LI>
<A HREF="#HRR.6">COPYRIGHT</A>
</LI>
<LI>
<A HREF="#HRR.7">SEE ALSO</A>
</LI></UL><HR>
<H1><A NAME="HRR.1">SYNOPSIS</A></H1>
interface mytype {
	...
	attribute TEXT	visible;
	...
};
<HR>
<H1><A NAME="HRR.2">DESCRIPTION</A></H1>
Shore objects can have arbitrarily complex
types.  Some 
<A HREF="file_system.svas.html">registered</A>
objects 
can be opened, read, and updated by Unix
programs.
Only a portion of a Shore object
is visible to a Unix program; that portion
is a string of bytes that behaves like a regular Unix file.
<P>
To make your Shore application create objects that have this behavior, 
you must create a type with an attribute whose type is 
<strong>TEXT.</strong>
Whatever is stored in this attribute of an object is visible to Unix
(if the object is registered).
Unix programs can update this attribute (subject to
access controls and transaction semantics).
<P>
Objects with a TEXT portion can be created by a Unix
process as well.
Such objects have the type 
<A HREF="unixfile.svas.html">UnixFile,</A>
which has only one attribute, whose type is TEXT.
<HR>
<H1><A NAME="HRR.3">IMPLEMENTATION</A></H1>
The system properties stored with a Shore object
include two values:
<BLOCKQUOTE><PRE>
ObjectOffset  tstart;
ObjectSize    hsize;
</PRE></BLOCKQUOTE>
 <em>Tstart</em>
is the offset (into the object) of the first byte of the TEXT attribute.
If the object has no TEXT attribute,
 <em>tstart</em>
has the value
<strong>NoText.</strong>
 <em>Hsize</em>
is the length (in bytes) of the heap.
The TEXT attribute always resides at the end of the object's
heap, so the length of the text attribute can be computed from
 <em>tstart</em>
and
 <em>hsize.</em>
<P>
If an object with TEXT is updated by the type system (any
software that invokes the Value-Added Server), 
these values may have to be changed. 
All the methods that update objects have variations that
permit the caller 
to adjust the value of 
<em>tstart.</em>
<HR>
<H1><A NAME="HRR.4">VERSION</A></H1>
This manual page applies to Version 1.1.1 of the Shore software.
<HR>
<H1><A NAME="HRR.5">SPONSORSHIP</A></H1>
The Shore project is sponsored by the Advanced Research Project Agency, ARPA
order number 018 (formerly 8230), monitored by the U.S. Army Research
Laboratory under contract DAAB07-91-C-Q518.
<HR>
<H1><A NAME="HRR.6">COPYRIGHT</A></H1>
Copyright &#169; 1994, 1995, 1996, 1997,
Computer Sciences Department, University of
Wisconsin -- Madison. All Rights Reserved.
<HR>
<H1><A NAME="HRR.7">SEE ALSO</A></H1>
<A HREF="unixfile.svas.html"><STRONG>unixfile(svas)</STRONG></A>,
<A HREF="registered.svas.html"><STRONG>registered(svas)</STRONG></A>,
<A HREF="anonymous.svas.html"><STRONG>anonymous(svas)</STRONG></A>,
<A HREF="sysprops.svas.html"><STRONG>sysprops(svas)</STRONG></A>,
<A HREF="appendObj.svas.html"><STRONG>appendObj(svas)</STRONG></A>,
<A HREF="writeObj.svas.html"><STRONG>writeObj(svas)</STRONG></A>,
<A HREF="readObj.svas.html"><STRONG>readObj(svas)</STRONG></A>,
<A HREF="truncObj.svas.html"><STRONG>truncObj(svas)</STRONG></A>,
and
<A HREF="intro.sdl.html"><STRONG>intro(sdl)</STRONG></A>.
</BODY>
</HTML>
