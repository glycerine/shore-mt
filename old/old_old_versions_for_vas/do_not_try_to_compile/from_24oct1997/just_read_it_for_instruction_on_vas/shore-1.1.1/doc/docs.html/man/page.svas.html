<!-- Warning: Do not edit this file. -->
<!-- It was created automatically by yam2html.pl 1.3  -->
<!-- on Mon Oct 27 09:41:02 CST 1997 from file mansvas/page.svas -->
<!DOCTYPE HTML public "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<TITLE>
page(svas) -- Shore Reference Manual
</TITLE>
<LINK REV="made" HREF="mailto:solomon@cs.wisc.edu">
</HEAD>

<BODY>

<!-- .so tmac.man.local -->
<H1><A NAME="HRR.0">
page - inspect a cached page for objects
</A></H1><HR>
<H1>
CONTENTS
</H1>
<UL>
<LI>
<A HREF="#HRR.1">SYNOPSIS</A>
</LI>
<LI>
<A HREF="#HRR.2">DESCRIPTION</A>
</LI>
<LI>
<A HREF="#HRR.3">ARGUMENTS</A>
</LI>
<LI>
<A HREF="#HRR.4">ENVIRONMENT</A>
</LI>
<LI>
<A HREF="#HRR.5">SEE ALSO</A>
</LI></UL><HR>
<H1><A NAME="HRR.1">SYNOPSIS</A></H1>
<BLOCKQUOTE><PRE>
VASResult shore_vas::num_cached_oids(
            int     	*count     
        );    
         
VASResult shore_vas::cached_oids(
            int     	*count,
			lrid_t		*list
        );    
         
</PRE></BLOCKQUOTE>
<HR>
<H1><A NAME="HRR.2">DESCRIPTION</A></H1>
<P>
The purpose of these functions is to allow the caller
to discover what objects were cached by the SVAS
as a side effect of 
reading an anonymous object,
or as a side effect of 
getting the system properties of an anonymous object.
The caller can subsequently read these objects before they are
thrown out of the SVAS's cache.
The functions
<A HREF="readObj.svas.html"><STRONG>readObj(svas)</STRONG></A>
and
<A HREF="sysprops.svas.html"><STRONG>sysprops(svas)</STRONG></A>
have forms that indicate 
<em>whether</em>
a page of small anonymous
objects is cached as a side effect. 
The functions described here allow the caller to learn the identities
of the objects on the page.
<P>
 <strong>Num_cached_oids</strong>
returns the number of slots on the most-recently-cached
page.  This number may be larger than the number of
small objects on the page.
It is meant to be used to allocate space in which to hold
the OIDs.
<P>
 <strong>Cached_oids</strong>
returns a list of the OIDs of the small objects on the
most-recently-cached page.
It also returns the number of OIDs returned.
<HR>
<H1><A NAME="HRR.3">ARGUMENTS</A></H1>
The argument
 <em>list</em>
is a buffer in which to write the OIDs of the objects on the page.
The buffer must be allocated and freed by the caller.
The buffer must be large enough to accommodate the OIDs of 
all the small objects on the page.
<P>
The argument
 <em>count</em>
is both an input argument and an output argument.
When 
 <strong>cached_oids</strong>
is called, 
 <em>count</em>
must indicate the number of entries in the buffer.
<HR>
<H1><A NAME="HRR.4">ENVIRONMENT</A></H1>
These functions
are available
on both the server and clients,
but since the server does not cache small-object pages
the way the client does, these functions always return with
<tt>count == 0</tt>
on the server.
Sometime in the future, these functions will
be made more useful on the server.
<HR>
<H1><A NAME="HRR.5">SEE ALSO</A></H1>
<A HREF="sysprops.svas.html"><STRONG>sysprops(svas)</STRONG></A>,
and
<A HREF="readObj.svas.html"><STRONG>readObj(svas)</STRONG></A>.
</BODY>
</HTML>
