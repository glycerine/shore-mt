<!-- Warning: Do not edit this file. -->
<!-- It was created automatically by yam2html.pl 1.3  -->
<!-- on Mon Oct 27 09:41:05 CST 1997 from file mansvas/truncObj.svas -->
<!DOCTYPE HTML public "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<TITLE>
truncobj(svas) -- Shore Reference Manual
</TITLE>
<LINK REV="made" HREF="mailto:solomon@cs.wisc.edu">
</HEAD>

<BODY>

<!-- .so tmac.man.local -->
<H1><A NAME="HRR.0">
truncObj - change the size of a Shore Object
</A></H1><HR>
<H1>
CONTENTS
</H1>
<UL>
<LI>
<A HREF="#HRR.1">SYNOPSIS</A>
</LI>
<LI>
<A HREF="#HRR.2">DESCRIPTION</A>
</LI>
<LI>
<A HREF="#HRR.3">ARGUMENTS</A>
</LI>
<LI>
<A HREF="#HRR.4">ENVIRONMENT</A>
</LI>
<LI>
<A HREF="#HRR.5">ERRORS</A>
</LI>
<LI>
<A HREF="#HRR.6">VERSION</A>
</LI>
<LI>
<A HREF="#HRR.7">SPONSORSHIP</A>
</LI>
<LI>
<A HREF="#HRR.8">COPYRIGHT</A>
</LI>
<LI>
<A HREF="#HRR.9">SEE ALSO</A>
</LI></UL><HR>
<H1><A NAME="HRR.1">SYNOPSIS</A></H1>
<BLOCKQUOTE><PRE>
VASResult shore_vas::truncObj(
            const  lrid_t     &amp;obj,
            ObjectSize        newlen    
        );     

VASResult shore_vas::truncObj(
            const  lrid_t     &amp;obj,     
            ObjectSize        newlen,    
            ObjectOffset      newtstart,
            bool	      zeroed=true
        ); 

</PRE></BLOCKQUOTE>
<HR>
<H1><A NAME="HRR.2">DESCRIPTION</A></H1>
 <strong>TruncObj</strong>
changes the size of an object to a given size, either by
truncating or appending zero-valued bytes to the object.
<HR>
<H1><A NAME="HRR.3">ARGUMENTS</A></H1>
The argument
 <em>obj</em>
is the full logical object identifier of the object to be read or
updated.
The argument
 <em>newlen</em>
indicates the desired length of the object after the
truncation occurs.
If this is larger than the size of the object before
truncation, the SVAS pads the object 
up to the desired length.
Unless the default value for the argument
 <em>zeroed</em>
is overridden,
the bytes padding the object are
zero-valued bytes.
<P>
 <strong>TruncObj</strong>
can change the location and size
of the TEXT portion of the object.
If the argument
 <em>newtstart</em>
is given, it indicates the new location
of the beginning of the TEXT attribute.
<P>
An exclusive lock is acquired before the truncation occurs.
<HR>
<H1><A NAME="HRR.4">ENVIRONMENT</A></H1>
All these methods are available
on both the server and clients.
<P>
All forms of 
 <strong>truncObj</strong>
must be called when a transaction is active.
<HR>
<H1><A NAME="HRR.5">ERRORS</A></H1>
<P>
Deadlocks can occur while locks are being acquired.  See
<A HREF="transaction.svas.html"><STRONG>transaction(svas)</STRONG></A> 
for information about deadlocks.
<P>
A complete list of errors is in
<A HREF="errors.svas.html"><STRONG>errors(svas)</STRONG></A>.
<HR>
<H1><A NAME="HRR.6">VERSION</A></H1>
This manual page applies to Version 1.1.1 of the Shore software.
<HR>
<H1><A NAME="HRR.7">SPONSORSHIP</A></H1>
The Shore project is sponsored by the Advanced Research Project Agency, ARPA
order number 018 (formerly 8230), monitored by the U.S. Army Research
Laboratory under contract DAAB07-91-C-Q518.
<HR>
<H1><A NAME="HRR.8">COPYRIGHT</A></H1>
Copyright &#169; 1994, 1995, 1996, 1997,
Computer Sciences Department, University of
Wisconsin -- Madison. All Rights Reserved.
<HR>
<H1><A NAME="HRR.9">SEE ALSO</A></H1>
<A HREF="sysprops.svas.html"><STRONG>sysprops(svas)</STRONG></A>
<A HREF="readObj.svas.html"><STRONG>readObj(svas)</STRONG></A>,
<A HREF="appendObj.svas.html"><STRONG>appendObj(svas)</STRONG></A>,
<A HREF="writeObj.svas.html"><STRONG>writeObj(svas)</STRONG></A>,
<A HREF="transaction.svas.html"><STRONG>transaction(svas)</STRONG></A>,
<A HREF="errors.svas.html"><STRONG>errors(svas)</STRONG></A>,
and
<A HREF="text.svas.html"><STRONG>text(svas)</STRONG></A>.
</BODY>
</HTML>
