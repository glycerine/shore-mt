<!-- Warning: Do not edit this file. -->
<!-- It was created automatically by yam2html.pl 1.3  -->
<!-- on Mon Oct 27 09:41:07 CST 1997 from file manssm/lid.ssm -->
<!DOCTYPE HTML public "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<TITLE>
ss_m::lid(ssm) -- Shore Reference Manual
</TITLE>
<LINK REV="made" HREF="mailto:solomon@cs.wisc.edu">
</HEAD>

<BODY>

<!-- .so tmac.man.local -->
<H1><A NAME="HRR.0">
link_to_remote_id, convert_to_local_id, lfid_of_lrid, set_lid_cache_enable, lid_cache_enabled - Class ss_m Methods for Logical ID Operations

</A></H1><HR>
<H1>
CONTENTS
</H1>
<UL>
<LI>
<A HREF="#HRR.1">SYNOPSIS</A>
</LI>
<LI>
<A HREF="#HRR.2">DESCRIPTION</A>
<UL>
<LI>
<A HREF="#HRR.2.1">Creating and Using Remote IDs</A>
</LI>
<LI>
<A HREF="#HRR.2.2">Logical ID Cache Control</A>
</LI>
</UL>
</LI>
<LI>
<A HREF="#HRR.3">ERRORS</A>
</LI>
<LI>
<A HREF="#HRR.4">EXAMPLES</A>
</LI>
<LI>
<A HREF="#HRR.5">VERSION</A>
</LI>
<LI>
<A HREF="#HRR.6">SPONSORSHIP</A>
</LI>
<LI>
<A HREF="#HRR.7">COPYRIGHT</A>
</LI>
<LI>
<A HREF="#HRR.8">SEE ALSO</A>
</LI></UL><HR>
<H1><A NAME="HRR.1">SYNOPSIS</A></H1>
<BLOCKQUOTE><PRE>
#include &lt;sm_vas.h&gt;  // which includes sm.h

static rc_t                 link_to_remote_id(
    const lvid_t&amp;               local_lvid,
    serial_t&amp;                   local_serial,
    const lvid_t&amp;               remote_lvid,
    const serial_t&amp;             remote_serial);

static rc_t                 convert_to_local_id(
    const lvid_t&amp;               remote_v,
    const serial_t&amp;             remote_s,
    lvid_t&amp;                     local_v, 
    serial_t&amp;                   local_s);

static rc_t                 set_lid_cache_enable(bool enable);
static rc_t                 lid_cache_enabled(bool&amp; enabled);


</PRE></BLOCKQUOTE>
<HR>
<H1><A NAME="HRR.2">DESCRIPTION</A></H1>

The SSM provides methods for using logical IDs and controlling
the caching of mappings between logical and physical IDs.

<H2><A NAME="HRR.2.1">Creating and Using Remote IDs</A></H2>

As noted in the discussion of identifiers in the
<A HREF="../ssmapi/ssmapi.html">SSM interface document,</A>
there are two types of serial numbers,
<em>local</em>
(intra-volume references) and
<em>remote</em>
(inter-volume references).

The SSM converts logical IDs to physical locations on a volume.
On each volume is a 
<em>logical ID index</em>
mapping
serial numbers to the location of the object
identified by the serial number.
When a volume ID and serial number pair is given in
an SSM method, the SSM lookups the serial number in the logical ID
index.  If the serial number is
<em>local</em>
it will refer to a location on the volume where the lookup
is done.
If the serial number is remote, the lookup will
return another volume ID and serial number.  This new volume
is the volume where the object actually resides and the serial
number for the object on that volume.

<P>
<strong>link_to_remote_id(local_lvid, local_serial, remote_lvid, remote_serial)</strong>
<DL>
<PP>
The
 <strong>link_to_remote_id</strong>
method generates and returns a new remote serial number,
 <em>local_serial,</em>
on volume,
 <em>local_lvid,</em>
that is a link to a serial number,
 <em>remote_serial,</em>
on another volume,
 <em>remote_lvid.</em>

<P>
</DL>
<strong>convert_to_local_id(remote_v, remote_s, local_v, local_s)</strong>
<DL>
<PP>
The
 <strong>convert_to_local_id</strong>
method converts a remote serial number,
 <em>remote_s,</em>
on volume,
 <em>remote_v,</em>
to the local serial number of the referenced object,
 <em>local_s,</em>
on the volume where it resides,
 <em>local_v.</em>

</DL>
<H2><A NAME="HRR.2.2">Logical ID Cache Control</A></H2>

Results from lookup's performed on the logical ID mapping
index are usually cached.  For debugging and performance
evaluation, this cache can be enabled or disabled.

<P>
<strong>set_lid_cache_enable(enable)</strong>
<DL>
<PP>
The
 <strong>set_lid_cache_enable</strong>
method turns on the use of the cache when,
 <em>enable</em>
is
 <strong>true</strong>
and off when
 <em>enable</em>
is
 <strong>false.</strong>

<P>
</DL>
<strong>lid_cache_enabled(enabled)</strong>
<DL>
<PP>
The
 <strong>lid_cache_enabled</strong>
method returns, in
 <em>enabled,</em>
the current state of the cache.


</DL>
<HR>
<H1><A NAME="HRR.3">ERRORS</A></H1>

<P>
See
<A HREF="errors.ssm.html"><STRONG>errors(ssm)</STRONG></A>
for more information on error handling.

<HR>
<H1><A NAME="HRR.4">EXAMPLES</A></H1>
To Do.

<HR>
<H1><A NAME="HRR.5">VERSION</A></H1>
This manual page applies to Version 1.1.1 of the Shore software.
<HR>
<H1><A NAME="HRR.6">SPONSORSHIP</A></H1>
The Shore project is sponsored by the Advanced Research Project Agency, ARPA
order number 018 (formerly 8230), monitored by the U.S. Army Research
Laboratory under contract DAAB07-91-C-Q518.
<HR>
<H1><A NAME="HRR.7">COPYRIGHT</A></H1>
Copyright &#169; 1994, 1995, 1996, 1997,
Computer Sciences Department, University of
Wisconsin -- Madison. All Rights Reserved.
<HR>
<H1><A NAME="HRR.8">SEE ALSO</A></H1>
<A HREF="lid_t.common.html"><STRONG>lid_t(common)</STRONG></A>,
<A HREF="serial_t.common.html"><STRONG>serial_t(common)</STRONG></A>,
<A HREF="intro.ssm.html"><STRONG>intro(ssm)</STRONG></A>.

</BODY>
</HTML>
