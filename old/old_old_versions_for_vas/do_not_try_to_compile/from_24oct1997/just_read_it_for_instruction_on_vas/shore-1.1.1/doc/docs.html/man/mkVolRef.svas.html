<!-- Warning: Do not edit this file. -->
<!-- It was created automatically by yam2html.pl 1.3  -->
<!-- on Mon Oct 27 09:41:01 CST 1997 from file mansvas/mkVolRef.svas -->
<!DOCTYPE HTML public "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<TITLE>
mkvolref(svas) -- Shore Reference Manual
</TITLE>
<LINK REV="made" HREF="mailto:solomon@cs.wisc.edu">
</HEAD>

<BODY>

<!-- .so tmac.man.local -->
<H1><A NAME="HRR.0">
mkVolRef, offVolRef, snapRef - Shore logical object identifiers
</A></H1><HR>
<H1>
CONTENTS
</H1>
<UL>
<LI>
<A HREF="#HRR.1">SYNOPSIS</A>
</LI>
<LI>
<A HREF="#HRR.2">DESCRIPTION</A>
</LI>
<LI>
<A HREF="#HRR.3">ARGUMENTS</A>
</LI>
<LI>
<A HREF="#HRR.4">ERRORS</A>
</LI>
<LI>
<A HREF="#HRR.5">ENVIRONMENT</A>
</LI>
<LI>
<A HREF="#HRR.6">VERSION</A>
</LI>
<LI>
<A HREF="#HRR.7">SPONSORSHIP</A>
</LI>
<LI>
<A HREF="#HRR.8">COPYRIGHT</A>
</LI>
<LI>
<A HREF="#HRR.9">SEE ALSO</A>
</LI></UL><HR>
<H1><A NAME="HRR.1">SYNOPSIS</A></H1>
<BLOCKQUOTE><PRE>
VASResult shore_vas::mkVolRef(
            const  lvid_t     &amp;onvol,     
            lrid_t            *result,
			int				 	number = 1
        );    
         
VASResult shore_vas::offVolRef(
            const  lvid_t     &amp;onvol,     
            const  lrid_t     &amp;toobj,     
            lrid_t            *result
        );    

VASResult shore_vas::snapRef(
            const  lrid_t     &amp;off,     
            lrid_t            *result
        );    
</PRE></BLOCKQUOTE>
<HR>
<H1><A NAME="HRR.2">DESCRIPTION</A></H1>
 <strong>MkVolRef</strong>
allocates one or more logical object identifiers
that are not associated with any object.
<P>
 <strong>OffVolRef</strong>
allocates a logical object identifier on one
volume, and associates it with a logical object
identifier on another volume, thereby
creating an
<em>indirect reference.</em>
<P>
 <strong>SnapRef</strong>
analyzes a logical object identifier, and if
it is part of a chain of indirect references,
the last logical object identifier in the chain is returned.
(The true end of the chain is a physical object identifier.
See 
<A HREF="oid.shore.html"><STRONG>oid(shore)</STRONG></A>
for more details.)
<HR>
<H1><A NAME="HRR.3">ARGUMENTS</A></H1>
The argument
 <em>onvol</em>
indicates the volume on which to allocate a new OID.
<P>
The argument
 <em>result</em>
points to an area in the caller's address space
into which the SVAS will write the resulting OID.
 <em>Result</em>may<em>not</em>be<em>null.</em>
The optional argument
 <em>number</em>
to 
 <strong>mkVolRef</strong>
indicates the  number of serial numbers (hence, OIDs) to allocate.
If it is larger than 1, the SSM allocates a series of serial
numbers and the first one in the series is returned in 
 <em>*result.</em>
<P>
The  argument
 <em>toobj</em>
to
 <strong>offVolRef</strong>
is an OID with which the new OID will be associated.
There need not be an object associated with 
 <em>toobj,</em>
but 
 <em>toobj</em>
must a legitimate OID in form.
<P>
 <strong>SnapRef's</strong>
argument
 <em>off</em>
is an object identifier that might
be part of a chain of indirect references.
If it is, the SSM follows the chain until
it reaches an OID that is associated with
a physical object identifier or is not associated
with anything; that last OID is the one returned.
<HR>
<H1><A NAME="HRR.4">ERRORS</A></H1>
<HR>
<H1><A NAME="HRR.5">ENVIRONMENT</A></H1>
All these methods require that a transaction
be active when they are called.
<HR>
<H1><A NAME="HRR.6">VERSION</A></H1>
This manual page applies to Version 1.1.1 of the Shore software.
<HR>
<H1><A NAME="HRR.7">SPONSORSHIP</A></H1>
The Shore project is sponsored by the Advanced Research Project Agency, ARPA
order number 018 (formerly 8230), monitored by the U.S. Army Research
Laboratory under contract DAAB07-91-C-Q518.
<HR>
<H1><A NAME="HRR.8">COPYRIGHT</A></H1>
Copyright &#169; 1994, 1995, 1996, 1997,
Computer Sciences Department, University of
Wisconsin -- Madison. All Rights Reserved.
<HR>
<H1><A NAME="HRR.9">SEE ALSO</A></H1>
<A HREF="oid.shore.html"><STRONG>oid(shore)</STRONG></A>,
<A HREF="errors.svas.html"><STRONG>errors(svas)</STRONG></A>,
and
<A HREF="transaction.svas.html"><STRONG>transaction(svas)</STRONG></A>.
</BODY>
</HTML>
