<!-- Warning: Do not edit this file. -->
<!-- It was created automatically by yam2html.pl 1.3  -->
<!-- on Mon Oct 27 09:40:52 CST 1997 from file mancxxlb/get_type.cxxlb -->
<!DOCTYPE HTML public "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<TITLE>
get_type(cxxlb) -- Shore Reference Manual
</TITLE>
<LINK REV="made" HREF="mailto:solomon@cs.wisc.edu">
</HEAD>

<BODY>

<!-- .so tmac.man.local -->
<H1><A NAME="HRR.0">
get_type - get type object
</A></H1><HR>
<H1>
CONTENTS
</H1>
<UL>
<LI>
<A HREF="#HRR.1">SYNOPSIS</A>
</LI>
<LI>
<A HREF="#HRR.2">DESCRIPTION</A>
</LI>
<LI>
<A HREF="#HRR.3">VERSION</A>
</LI>
<LI>
<A HREF="#HRR.4">SPONSORSHIP</A>
</LI>
<LI>
<A HREF="#HRR.5">COPYRIGHT</A>
</LI>
<LI>
<A HREF="#HRR.6">SEE ALSO</A>
</LI></UL><HR>
<H1><A NAME="HRR.1">SYNOPSIS</A></H1>
<BLOCKQUOTE><PRE>
<TT>#include &lt;ShoreApp.h&gt;</TT>

	/////////////////////////////////////////////
	// Return the OID of T's persistent type object
	/////////////////////////////////////////////
shrc     Ref&lt;T&gt;::get_type(LOID &amp;type_loid) const;

	/////////////////////////////////////////////
	// The combination of the macro TYPE_OBJECT
	// and the method isa() lets you cast references:
	//
	// returns a Ref&lt;T&gt; 
	// if &quot;any&quot; points to a T or subclass of T; 
	// otherwise they return a null ref:
	//
	// pardon the pseudo-code ...
	/////////////////////////////////////////////
const Ref&lt;T&gt; TYPE_OBJECT(T).isa(const Ref&lt;U&gt; &amp;any);

{
    Ref&lt;any&gt;     aref;
    Ref&lt;I&gt;       iref;

    iref = TYPE_OBJECT(I).isa(a);
}

</PRE></BLOCKQUOTE>
<HR>
<H1><A NAME="HRR.2">DESCRIPTION</A></H1>
<P>
The first form of
 <strong>get_type</strong>
returns the logical oid of the object's type object.  
If the ref is nil,
 <em>LOID::null</em>
is returned.
<P>
The CPP macro
 <strong>TYPE_OBJECT(T)</strong>
yields a reference to the
compiled-in C++ type object for T.
Uses of 
 <strong>TYPE_OBJECT</strong>
will not compile if the
SDL language binding for T is not
included at compile time.
<P>
The second form of
 <strong>get_type</strong>
returns a pointer to the given object's C++ type object,
even if the 
SDL language binding for T is not
included at compile time.
In that case, the C++ type object is constructed
from the type's persistent object.
A null pointer is returned if the reference is not
to a Shore object.
<P>
 <strong>Get_type</strong>
obtains a SH-mode (share-mode) lock on the object.
<P>
The method
 <strong>isa</strong>
returns typed references:
<BLOCKQUOTE><PRE>
    iref = TYPE_OBJECT(T).isa(a);
</PRE></BLOCKQUOTE>
If 
 <em>any</em>
points to a T or subclass of T, 
 <em>any</em>
is cast to a
 <em>Ref&lt;T&gt;</em>
and returned.
If not,
a null reference is returned.
<HR>
<H1><A NAME="HRR.3">VERSION</A></H1>
This manual page applies to Version 1.1.1 of the Shore software.
<HR>
<H1><A NAME="HRR.4">SPONSORSHIP</A></H1>
The Shore project is sponsored by the Advanced Research Project Agency, ARPA
order number 018 (formerly 8230), monitored by the U.S. Army Research
Laboratory under contract DAAB07-91-C-Q518.
<HR>
<H1><A NAME="HRR.5">COPYRIGHT</A></H1>
Copyright &#169; 1994, 1995, 1996, 1997,
Computer Sciences Department, University of
Wisconsin -- Madison. All Rights Reserved.
<HR>
<H1><A NAME="HRR.6">SEE ALSO</A></H1>
<P>
<A HREF="ref.cxxlb.html"><STRONG>ref(cxxlb)</STRONG></A>,
<A HREF="stat.oc.html"><STRONG>stat(oc)</STRONG></A>,
<A HREF="ostat.cxxlb.html"><STRONG>ostat(cxxlb)</STRONG></A>.
</BODY>
</HTML>
