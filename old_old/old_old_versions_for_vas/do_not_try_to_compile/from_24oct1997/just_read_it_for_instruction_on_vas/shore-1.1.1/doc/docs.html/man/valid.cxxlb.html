<!-- Warning: Do not edit this file. -->
<!-- It was created automatically by yam2html.pl 1.3  -->
<!-- on Mon Oct 27 09:40:55 CST 1997 from file mancxxlb/valid.cxxlb -->
<!DOCTYPE HTML public "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<TITLE>
valid(cxxlb) -- Shore Reference Manual
</TITLE>
<LINK REV="made" HREF="mailto:solomon@cs.wisc.edu">
</HEAD>

<BODY>

<!-- .so tmac.man.local -->
<H1><A NAME="HRR.0">
valid - determine validity of a reference to a Shore object
</A></H1><HR>
<H1>
CONTENTS
</H1>
<UL>
<LI>
<A HREF="#HRR.1">SYNOPSIS</A>
</LI>
<LI>
<A HREF="#HRR.2">DESCRIPTION</A>
</LI>
<LI>
<A HREF="#HRR.3">RETURN VALUE</A>
</LI>
<LI>
<A HREF="#HRR.4">LOCKS</A>
</LI>
<LI>
<A HREF="#HRR.5">VERSION</A>
</LI>
<LI>
<A HREF="#HRR.6">SPONSORSHIP</A>
</LI>
<LI>
<A HREF="#HRR.7">COPYRIGHT</A>
</LI>
<LI>
<A HREF="#HRR.8">SEE ALSO</A>
</LI></UL><HR>
<H1><A NAME="HRR.1">SYNOPSIS</A></H1>
<BLOCKQUOTE><PRE>
<TT>#include &lt;ShoreApp.h&gt;</TT>
shrc Ref&lt;T&gt;::valid(LockMode lm = SH) const;
</PRE></BLOCKQUOTE>
<HR>
<H1><A NAME="HRR.2">DESCRIPTION</A></H1>
<P>
The
 <strong>valid</strong>
method indicates whether the given ref can be followed safely.  In this
context, &quot;safe&quot; means that there is an object at the other end of the ref,
and that the object can be locked in the indicated lock mode.  This method
will obtain the lock, but will not fetch the object into the object cache.
The
 <strong>fetch</strong>
method can be used for this purpose.
<HR>
<H1><A NAME="HRR.3">RETURN VALUE</A></H1>
<P>
A return code of RCOK indicates that the lock was successfully obtained,
and that the ref is therefore valid.  Any other error code indicates either
that the ref is not valid, or that the lock could not be obtained (perhaps
due to insufficient permission on the part of the process).
<HR>
<H1><A NAME="HRR.4">LOCKS</A></H1>
<P>
Because this method obtains a lock on the object, it may be forced to wait,
if another transaction holds a conflicting lock on the object.
<P>
It is legal, and potentially useful, to pass a lock mode of NL (no lock) to
 <strong>valid.</strong>
However, if no lock is obtained, then nothing prevents another transaction
from destroying the referenced object, thereby invalidating the ref, before
the end of the current transaction.
<HR>
<H1><A NAME="HRR.5">VERSION</A></H1>
This manual page applies to Version 1.1.1 of the Shore software.
<HR>
<H1><A NAME="HRR.6">SPONSORSHIP</A></H1>
The Shore project is sponsored by the Advanced Research Project Agency, ARPA
order number 018 (formerly 8230), monitored by the U.S. Army Research
Laboratory under contract DAAB07-91-C-Q518.
<HR>
<H1><A NAME="HRR.7">COPYRIGHT</A></H1>
Copyright &#169; 1994, 1995, 1996, 1997,
Computer Sciences Department, University of
Wisconsin -- Madison. All Rights Reserved.
<HR>
<H1><A NAME="HRR.8">SEE ALSO</A></H1>
<A HREF="ref.cxxlb.html"><STRONG>ref(cxxlb)</STRONG></A>,
<A HREF="fetch.cxxlb.html"><STRONG>fetch(cxxlb)</STRONG></A>.
</BODY>
</HTML>
