<!-- Warning: Do not edit this file. -->
<!-- It was created automatically by yam2html.pl 1.3  -->
<!-- on Mon Oct 27 09:41:02 CST 1997 from file mansvas/pool.svas -->
<!DOCTYPE HTML public "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
<TITLE>
pool(svas) -- Shore Reference Manual
</TITLE>
<LINK REV="made" HREF="mailto:solomon@cs.wisc.edu">
</HEAD>

<BODY>

<!-- .so tmac.man.local -->
<H1><A NAME="HRR.0">
pool - Shore pools and anonymous objects
</A></H1><HR>
<H1>
CONTENTS
</H1>
<UL>
<LI>
<A HREF="#HRR.1">SYNOPSIS</A>
</LI>
<LI>
<A HREF="#HRR.2">DESCRIPTION</A>
</LI>
<LI>
<A HREF="#HRR.3">ARGUMENTS</A>
</LI>
<LI>
<A HREF="#HRR.4">ENVIRONMENT</A>
</LI>
<LI>
<A HREF="#HRR.5">ERRORS</A>
</LI>
<LI>
<A HREF="#HRR.6">VERSION</A>
</LI>
<LI>
<A HREF="#HRR.7">SPONSORSHIP</A>
</LI>
<LI>
<A HREF="#HRR.8">COPYRIGHT</A>
</LI>
<LI>
<A HREF="#HRR.9">SEE ALSO</A>
</LI></UL><HR>
<H1><A NAME="HRR.1">SYNOPSIS</A></H1>
<BLOCKQUOTE><PRE>
VASResult       shore_vas::mkPool(
    const Path          name,  
    mode_t              mode,
    lrid_t              *result
);

VASResult       shore_vas::rmPool(
    const Path          name  
);
</PRE></BLOCKQUOTE>
<HR>
<H1><A NAME="HRR.2">DESCRIPTION</A></H1>
Within a Shore file system, objects 
are located in 
<A HREF="intro.ssm.html">Storage Manager files</A>
When objects are created, they are created
&quot;in&quot; a file, and that file is chosen by the
creator of the object.
This allows an application to determine a certain amount of logical and
physical clustering of the objects it creates.
A 
<strong>pool</strong>
is a Shore object that has an associated file.
When a pool is created, an empty file is created.
A pool cannot be destroyed unless it is empty.
<P>
We say that objects reside &quot;in&quot; the pool,
although, in fact they reside in the Storage Manager file associated with the pool. 
(A pool is a registered object, so it resides with all other registered
objects, in the Storage Manager file for registered objects.)
<P>
The objects in a pool are 
<strong>anonymous.</strong>
They have no place in the naming hierarchy on the volume.
They are identified only by their object identifiers.
A pool can be  
<strong>scanned</strong>
to find the object identifiers
of the objects in the pool,
and to inspect or update the objects in the pool.
<P>
Anonymous objects inherit some system properties from their pools,
and have no need for others (such as the reference counts).
Consequently, the storage overhead for anonymous objects
is minimal.
The properties inherited from the pool are:
<em>uid,</em>
<em>gid,</em>
and 
<em>mode.</em>
These properties of a pool determine the access controls on
all objects in the pool.
<HR>
<H1><A NAME="HRR.3">ARGUMENTS</A></H1>
The argument
 <em>name</em>
to both
 <strong>mkPool</strong>
and
 <strong>rmPool</strong>
is the path name of the pool.
The argument
 <em>mode</em>
to 
 <strong>mkPool</strong>
is the permission bits for the pool and all objects in the pool.
The argument
 <em>result</em>
for 
 <strong>mkPool</strong>
is an address in the caller's address space.
It may not be null.
After creating the pool and its associated file,
the SVAS returns the logical object identifier for
the pool by writing into this location.
<HR>
<H1><A NAME="HRR.4">ENVIRONMENT</A></H1>
All operations on pools take place on the server.
<P>
These methods can be used only in a transaction.
<HR>
<H1><A NAME="HRR.5">ERRORS</A></H1>
<P>
Deadlocks can occur while locks are being acquired.  See
<A HREF="transaction.svas.html"><STRONG>transaction(svas)</STRONG></A> 
for information about deadlocks.
<P>
A complete list of errors is in
<A HREF="errors.svas.html"><STRONG>errors(svas)</STRONG></A>.
<HR>
<H1><A NAME="HRR.6">VERSION</A></H1>
This manual page applies to Version 1.1.1 of the Shore software.
<HR>
<H1><A NAME="HRR.7">SPONSORSHIP</A></H1>
The Shore project is sponsored by the Advanced Research Project Agency, ARPA
order number 018 (formerly 8230), monitored by the U.S. Army Research
Laboratory under contract DAAB07-91-C-Q518.
<HR>
<H1><A NAME="HRR.8">COPYRIGHT</A></H1>
Copyright &#169; 1994, 1995, 1996, 1997,
Computer Sciences Department, University of
Wisconsin -- Madison. All Rights Reserved.
<HR>
<H1><A NAME="HRR.9">SEE ALSO</A></H1>
<A HREF="file_system.svas.html"><STRONG>file_system(svas)</STRONG></A>,
<A HREF="anonymous.svas.html"><STRONG>anonymous(svas)</STRONG></A>,
<A HREF="registered.svas.html"><STRONG>registered(svas)</STRONG></A>,
<A HREF="unixfile.svas.html"><STRONG>unixfile(svas)</STRONG></A>,
<A HREF="sysprops.svas.html"><STRONG>sysprops(svas)</STRONG></A>,
<A HREF="transaction.svas.html"><STRONG>transaction(svas)</STRONG></A>,
<A HREF="errors.svas.html"><STRONG>errors(svas)</STRONG></A>
and
<A HREF="poolscan.svas.html"><STRONG>poolscan(svas)</STRONG></A>.
</BODY>
</HTML>
