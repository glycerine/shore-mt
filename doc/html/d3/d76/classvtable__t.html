<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Shore Storage Manager: vtable_t Class Reference</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
<link href="../../tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="../../main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="../../modules.html"><span>Modules</span></a></li>
    <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="../../classes.html"><span>Classes</span></a></li>
    <li><a href="../../files.html"><span>Files</span></a></li>
    <li><a href="../../dirs.html"><span>Directories</span></a></li>
    <li><a href="../../pages.html"><span>Related&nbsp;Pages</span></a></li>
    <li><a href="../../examples.html"><span>Examples</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="../../classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="../../annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="../../hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="../../functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<h1>vtable_t Class Reference</h1><!-- doxytag: class="vtable_t" --><a href="../../d0/dd9/classvtable__t-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
Structure for converting lower layer info to a virtual table. 
<p>
This structure holds a set of <a class="el" href="../../db/d4a/classvtable__row__t.html">vtable_row_t</a>, which is a set of attributes. The space for the whole mess is allocated by the <a class="el" href="../../d3/d76/classvtable__t.html">vtable_t</a>, and the rows must be populated strictly in sequence, and the attributes of the rows likewise must be populated in sequence. As a row is populated, space for the attributes is peeled off the chunk allocated by the vtable. The idea here is to create, without undue heap activity, a string-based (untyped) virtual table containing various and sundry information. The things that can be gathered and stuffed into virtual tables include: Info about the threads, transactions. A server could, if it so chose, convert this information into a relational table. Originally this was used to send across the wire, via RPC, this info to a client in client/server SHORE. Now it has been stripped down. Someday if this facility proves useful, we should make this collect typed information so that the attributes can be int or double. But for now, they are string representations of the values.<p>
Test programs may use ss_m::xct_collect(vtable &amp;) and kin, and output the results with the operator&lt;&lt; for <a class="el" href="../../d3/d76/classvtable__t.html">vtable_t</a>. <dl compact><dt><b>Examples: </b></dt><dd>

<p>
<a class="el" href="../../dd/d5f/vtable__example_8cpp-example.html#_a162">vtable_example.cpp</a>.</dl>
<p>

<p>
Definition at line <a class="el" href="../../d0/de9/vtable_8h-source.html#l00207">207</a> of file <a class="el" href="../../d0/de9/vtable_8h-source.html">vtable.h</a>.<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="0bc5aee4aaac641dd71a5bea0d96e30a"></a><!-- doxytag: member="vtable_t::vtable_t" ref="0bc5aee4aaac641dd71a5bea0d96e30a" args="()" -->
NORET&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d76/classvtable__t.html#0bc5aee4aaac641dd71a5bea0d96e30a">vtable_t</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d76/classvtable__t.html#e04610dad0a77ed0d9f97001ce8934fe">init</a> (int R, int A, int S)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="df959269d43574fba9aa7fe451463bf0"></a><!-- doxytag: member="vtable_t::~vtable_t" ref="df959269d43574fba9aa7fe451463bf0" args="()" -->
NORET&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d76/classvtable__t.html#df959269d43574fba9aa7fe451463bf0">~vtable_t</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a6e4a98a053c8921091f59c0d1fce4d8"></a><!-- doxytag: member="vtable_t::operator[]" ref="a6e4a98a053c8921091f59c0d1fce4d8" args="(int i) const " -->
<a class="el" href="../../db/d4a/classvtable__row__t.html">vtable_row_t</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d76/classvtable__t.html#a6e4a98a053c8921091f59c0d1fce4d8">operator[]</a> (int i) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ac2d732d050c625320a5fc6024b2f4c0"></a><!-- doxytag: member="vtable_t::operator&lt;&lt;" ref="ac2d732d050c625320a5fc6024b2f4c0" args="(ostream &amp;o) const " -->
ostream &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d76/classvtable__t.html#ac2d732d050c625320a5fc6024b2f4c0">operator&lt;&lt;</a> (ostream &amp;o) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="fa9c668155eb4566c55283934d842a20"></a><!-- doxytag: member="vtable_t::quant" ref="fa9c668155eb4566c55283934d842a20" args="() const " -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d76/classvtable__t.html#fa9c668155eb4566c55283934d842a20">quant</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return number of rows filled. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="c28fd0c11999f3282ee0f8d6e77f9467"></a><!-- doxytag: member="vtable_t::size" ref="c28fd0c11999f3282ee0f8d6e77f9467" args="() const " -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d76/classvtable__t.html#c28fd0c11999f3282ee0f8d6e77f9467">size</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="c1e6a67a344451fadc0d99266ac61022"></a><!-- doxytag: member="vtable_t::filled_one" ref="c1e6a67a344451fadc0d99266ac61022" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d76/classvtable__t.html#c1e6a67a344451fadc0d99266ac61022">filled_one</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="4216da5968b4f9643406eb0faeb4728f"></a><!-- doxytag: member="vtable_t::back_out" ref="4216da5968b4f9643406eb0faeb4728f" args="(int n)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d76/classvtable__t.html#4216da5968b4f9643406eb0faeb4728f">back_out</a> (int n)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="8fe87ca6a0a21bb702dbf3a21b56b1b6"></a><!-- doxytag: member="vtable_t::realloc" ref="8fe87ca6a0a21bb702dbf3a21b56b1b6" args="()" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d76/classvtable__t.html#8fe87ca6a0a21bb702dbf3a21b56b1b6">realloc</a> ()</td></tr>

</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="e04610dad0a77ed0d9f97001ce8934fe"></a><!-- doxytag: member="vtable_t::init" ref="e04610dad0a77ed0d9f97001ce8934fe" args="(int R, int A, int S)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int vtable_t::init           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>R</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>A</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>S</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize table with <em>R</em> rows, with up to <em>A</em> attributes, each with a maximum size of <em>S</em> bytes. 
<p>
Definition at line <a class="el" href="../../d2/d3d/vtable_8cpp-source.html#l00156">156</a> of file <a class="el" href="../../d2/d3d/vtable_8cpp-source.html">vtable.cpp</a>.
<p>
References <a class="el" href="../../dd/d93/w__base_8h.html#3577e8811115adc468e5dcb17d68d529">align</a>, <a class="el" href="../../db/d4a/classvtable__row__t.html#7515211ab285f0742f9b0b369d315909">vtable_row_t::bytes_required_for()</a>, <a class="el" href="../../db/d4a/classvtable__row__t.html#ae4246d635d73abab0bd1a779a2fed0a">vtable_row_t::init_for_attributes()</a>, and <a class="el" href="../../dd/d93/w__base_8h.html#bcf9bfdb4e430cecbbaf03b144448b60">w_assert1</a>.
<p>
Referenced by <a class="el" href="../../dd/ded/classsthread__t.html#68b93fde4e0932e312ea7aa65fdc005a">sthread_t::collect()</a>.
<p>
Here is the call graph for this function:<p><center><img src="../../d3/d76/classvtable__t_e04610dad0a77ed0d9f97001ce8934fe_cgraph.png" border="0" usemap="#d3/d76/classvtable__t_e04610dad0a77ed0d9f97001ce8934fe_cgraph_map" alt=""></center>
<map name="d3/d76/classvtable__t_e04610dad0a77ed0d9f97001ce8934fe_cgraph_map">
<area href="../../db/d4a/classvtable__row__t.html#7515211ab285f0742f9b0b369d315909" shape="rect" coords="424,5,656,32" alt="">
<area href="../../db/d4a/classvtable__row__t.html#ae4246d635d73abab0bd1a779a2fed0a" shape="rect" coords="155,56,376,83" alt="">
<area href="../../db/d4a/classvtable__row__t.html#4768ee1cd54820d7782923845fc6dabd" shape="rect" coords="441,56,639,83" alt="">
</map>

<p>
Here is the caller graph for this function:<p><center><img src="../../d3/d76/classvtable__t_e04610dad0a77ed0d9f97001ce8934fe_icgraph.png" border="0" usemap="#d3/d76/classvtable__t_e04610dad0a77ed0d9f97001ce8934fe_icgraph_map" alt=""></center>
<map name="d3/d76/classvtable__t_e04610dad0a77ed0d9f97001ce8934fe_icgraph_map">
<area href="../../dd/ded/classsthread__t.html#68b93fde4e0932e312ea7aa65fdc005a" shape="rect" coords="155,5,288,32" alt="">
</map>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>src/fc/<a class="el" href="../../d0/de9/vtable_8h-source.html">vtable.h</a><li>src/fc/<a class="el" href="../../d2/d3d/vtable_8cpp-source.html">vtable.cpp</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Mon Jan 2 15:14:16 2012 for Shore Storage Manager by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
