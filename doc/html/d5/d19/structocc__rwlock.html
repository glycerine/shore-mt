<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Shore Storage Manager: occ_rwlock Struct Reference</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
<link href="../../tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="../../main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="../../modules.html"><span>Modules</span></a></li>
    <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
    <li id="current"><a href="../../classes.html"><span>Classes</span></a></li>
    <li><a href="../../files.html"><span>Files</span></a></li>
    <li><a href="../../dirs.html"><span>Directories</span></a></li>
    <li><a href="../../pages.html"><span>Related&nbsp;Pages</span></a></li>
    <li><a href="../../examples.html"><span>Examples</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="../../classes.html"><span>Alphabetical&nbsp;List</span></a></li>
    <li><a href="../../annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="../../hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="../../functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<h1>occ_rwlock Struct Reference</h1><!-- doxytag: class="occ_rwlock" --><a href="../../de/d2f/structocc__rwlock-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
A multiple-reader/single-writer lock based on pthreads (blocking). 
<p>
Use this to protect data structures that get hammered by reads and where updates are very rare. It is used in the storage manager by the histograms (histo.cpp), and in place of some mutexen, where strict exclusion isn't required.<p>
This lock is used in the storage manager by the checkpoint thread (the only acquire-writer) and other threads to be sure they don't do certain nasty things when a checkpoint is going on.<p>
The idiom for using these locks is that the qnode is on a threads's stack, so the qnode implicitly identifies the owning thread.<p>
See also: <a class="el" href="../../references.html#REFSYNC">REFSYNC</a> 
<p>

<p>
Definition at line <a class="el" href="../../d3/dba/sthread_8h-source.html#l00595">595</a> of file <a class="el" href="../../d3/dba/sthread_8h-source.html">sthread.h</a>.<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="89e3bb95016056fb94f8cbda6cb4435c"></a><!-- doxytag: member="occ_rwlock::occ_rwlock" ref="89e3bb95016056fb94f8cbda6cb4435c" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d19/structocc__rwlock.html#89e3bb95016056fb94f8cbda6cb4435c">occ_rwlock</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="75754e5a2245ce095ebd6aca8fa3faf2"></a><!-- doxytag: member="occ_rwlock::~occ_rwlock" ref="75754e5a2245ce095ebd6aca8fa3faf2" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d19/structocc__rwlock.html#75754e5a2245ce095ebd6aca8fa3faf2">~occ_rwlock</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="f731bb06dbca210e9725ebfdbadf6385"></a><!-- doxytag: member="occ_rwlock::acquire_read" ref="f731bb06dbca210e9725ebfdbadf6385" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d19/structocc__rwlock.html#f731bb06dbca210e9725ebfdbadf6385">acquire_read</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The normal way to acquire a read lock. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="112c750d38b4f00dc0eff8f71d3d716f"></a><!-- doxytag: member="occ_rwlock::release_read" ref="112c750d38b4f00dc0eff8f71d3d716f" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d19/structocc__rwlock.html#112c750d38b4f00dc0eff8f71d3d716f">release_read</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The normal way to release a read lock. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b29b54a62e5aaeb1d5eba9ec9d7521cd"></a><!-- doxytag: member="occ_rwlock::acquire_write" ref="b29b54a62e5aaeb1d5eba9ec9d7521cd" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d19/structocc__rwlock.html#b29b54a62e5aaeb1d5eba9ec9d7521cd">acquire_write</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The normal way to acquire a write lock. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="847b9e445223344dc78406ca06187e6d"></a><!-- doxytag: member="occ_rwlock::release_write" ref="847b9e445223344dc78406ca06187e6d" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d19/structocc__rwlock.html#847b9e445223344dc78406ca06187e6d">release_write</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The normal way to release a write lock. <br></td></tr>
</table>
<hr>The documentation for this struct was generated from the following files:<ul>
<li>src/sthread/<a class="el" href="../../d3/dba/sthread_8h-source.html">sthread.h</a><li>src/sthread/<a class="el" href="../../df/dda/sthread_8cpp-source.html">sthread.cpp</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Mon Jan 2 15:14:08 2012 for Shore Storage Manager by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="../../doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
